---
export interface Props {
  title: string;
  description?: string;
}

const { title, description = "A comprehensive database of roguelike games with terminal aesthetics" } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
    <title>{title} | Roguelike Database</title>
  </head>
  <body class="bg-terminal-bg text-terminal-white font-mono min-h-screen">
    <div class="terminal-box min-h-screen">
      <header class="terminal-border-b p-4">
        <div class="max-w-6xl mx-auto">
          <div class="ascii-art text-terminal-amber text-center">
┌─────────────────────────────────────────────────────────────────────────────┐
│                              ROGUELIKE DATABASE                             │
└─────────────────────────────────────────────────────────────────────────────┘
          </div>
          <nav class="flex justify-center flex-wrap gap-2 mt-4">
            <a href="/" class="terminal-button">[A]ll Games</a>
            <a href="/search" class="terminal-button">[S]earch</a>
            <a href="/tags" class="terminal-button">[T]ags</a>
            <a href="/lineage" class="terminal-button">[L]ineage</a>
            <a href="/random" class="terminal-button">[R]andom</a>
            <a href="https://github.com/statico/roguelikedb" target="_blank" rel="noopener noreferrer" class="terminal-button">[C]ontribute</a>
            <a href="/help" class="terminal-button">[H]elp</a>
          </nav>
        </div>
      </header>
      
      <main class="flex-1 p-4">
        <div class="max-w-6xl mx-auto">
          <slot />
        </div>
      </main>
      
      <footer class="terminal-border-t p-2 text-terminal-gray text-center">
        <div class="text-xs">
          ┌─ ROGUELIKE DATABASE ─┐ 
          │ Open Source Project  │
          │ Terminal Aesthetics  │
          └──────────────────────┘
        </div>
      </footer>
    </div>
  </body>
</html>

<script is:inline>
  // Global keyboard navigation
  document.addEventListener('DOMContentLoaded', () => {
    document.addEventListener('keydown', (e) => {
      // Don't trigger if user is typing in an input field
      if (e.target && (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA')) {
        return;
      }
      
      // Don't trigger if modifier keys are pressed
      if (e.ctrlKey || e.metaKey || e.altKey) return;
      
      switch(e.key.toLowerCase()) {
        case 'a':
          e.preventDefault();
          window.location.href = '/';
          break;
        case 's':
          e.preventDefault();
          window.location.href = '/search';
          break;
        case 't':
          e.preventDefault();
          window.location.href = '/tags';
          break;
        case 'l':
          e.preventDefault();
          window.location.href = '/lineage';
          break;
        case 'r':
          e.preventDefault();
          window.location.href = '/random';
          break;
        case 'c':
          e.preventDefault();
          window.open('https://github.com/statico/roguelikedb', '_blank', 'noopener,noreferrer');
          break;
        case 'h':
          e.preventDefault();
          window.location.href = '/help';
          break;
      }
    });
  });
</script>

<style>
  .terminal-border-b {
    border-bottom: 1px solid #f8f8f2;
  }
  .terminal-border-t {
    border-top: 1px solid #f8f8f2;
  }
</style>